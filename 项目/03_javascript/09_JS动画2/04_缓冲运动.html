<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>缓冲运动</title>
		<script src="js/tools.js"></script>
		<style type="text/css">
			#all{
				width: 150px;
				height: 100px;
				background-color: wheat;
				margin: 10px;
				position: absolute;
				left: 10px;
				top: 10px;				
			}
		</style>
	</head>
	<body>
		<div id="all"></div>
		<script type="text/javascript">
			var oAll =document.getElementById("all")
			/*
			 * 缓冲运动
			 * 匀速运动速度：从头到尾速度都一致
			 * 缓冲运动速度：速度是动态变化的
			 * 距离越远，速度越大
			 * 速度由距离决定：
			 * 速度=（目标值-当前值）/缩放系数
			 */
			var attr = "width";
			var speedScale = 15;
			//缓冲变宽，速度逐渐减小，最后速度变为1px的匀速运动
			//function uniformMove(obj,attr,targetPosition,speed,time){
			var timer = setInterval(function(){
				//获取当前属性值
				var attrValue = parseInt(getStyle(oAll,attr));
				//2.计算速度=（目标值-当前值）/系数
				var speedEnd = (800-attrValue)/speedScale;
				speedEnd=Math.ceil(speedEnd);
				console.log("计算速度值:"+speedEnd);
				
				if(800==attrValue){
						//800-attrValue<=speedEnd
						//oAll.style[attr]="800px";
						clearInterval(timer);
					}else{
						oAll.style[attr]=attrValue+speedEnd+"px";
					}
					console.log("attrValue:"+oAll.style[attr])
				},20)
			//}
			
			
			
		</script>
	</body>
</html>
