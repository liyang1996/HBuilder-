
<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			body {
				/*font-family: "SF UI Text", serif, sans-serif;*/
				font-size: 12px;
			}
			
			* {
				margin: 0;
				padding: 0;
			}
			
			#div1 {
				width: 200px;
				height: 200px;
				margin-top: 20px;
				background-color: lightblue;
				text-align: center;
				position: relative;
				left: -200px;
				top: 0;
			}
			
			#div1 div{
				width: 100%;
				height: 100%;
				line-height: 200px;
				font-size: 30px;
				color: white;
			}
			
			#div1 span {
				width: 20px;
				background: rgb(255, 119, 157);
				position: absolute;
				left: 200px;
				top: 75px;
				color: #fff;
				font-size: 16px;
				cursor: pointer;
				padding: 5px 1px 5px 0;
				border-radius: 0 5px 5px 0;
			}
			
			#div1 span:hover {
				background: rgb(255, 84, 137);
			}
		</style>
	</head>

	<body>
		<div id="div1">
			<div>
			你是不是傻
			</div>
			<span id="share">分享</span>
		</div>
		<script type="text/javascript">
			var div = document.getElementById("div1");
			div.onmouseover = function() {
				startMove1(div, 0, 10, 20);
			};
			div.onmouseout = function() {
				startMove2(div, -200, -10, 20);
			};
			
			function startMove1(obj, targetPosition, speed, time){
				clearInterval(obj.timer);
				obj.timer = setInterval(function(){
				if(targetPosition - obj.offsetLeft <= speed){
					obj.style.left = targetPosition + "px";
					clearInterval(obj.timer);
				}else{
					obj.style.left = obj.offsetLeft + speed + "px";
				}
				console.log("off: " + obj.offsetLeft);
			},time);
			}
			
			function startMove2(obj, targetPosition, speed, time) {
				clearInterval(obj.timer);
				obj.timer = setInterval(function() {
					if(obj.offsetLeft - targetPosition <= -speed) {
						obj.style.left = targetPosition + "px";
						clearInterval(obj.timer);
					} else {
						obj.style.left = obj.offsetLeft + speed + "px";
					}
					console.log(obj.offsetLeft);
				}, 20)
			}
		</script>
	</body>

</html>